{"title":"R: Importing data","markdown":{"yaml":{"layout":"page","title":"R: Importing data","date":"Last updated: `r Sys.Date()`"},"headingText":"Common data files","containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE, eval = FALSE)\n```\n\nWhen working on projects in R, you will likely need to draw data from a variety of online sources. Each source that you use has their own conventions of storing data, so you have to be able to import multiple kinds of data files into R.\n\n\n## CSV\n\nCSV files are a convenient and simple way of storing data. CSV stands for \"comma-separated values\": the raw data is text file where each line of text is a row of data, and values within a row are separated by commas. In most cases your computer will automatically open CSV files in Excel, where they are displayed as a table. CSV files are the most common and also one of the easiest to import to R.\n\n## Other delimited text files\n\nIf data is stored as text, the value separator (also known as delimiter) does not always a comma. Other common delimiters are semicolons (;) and tabs (whitespace). The most common file extensions for these files are .csv (for semicolon-delimited files), .tsv or .txt. These files often cannot be displayed as a table by simply opening the file, but you can observe their structure by opening them as text files.\n\n## Other data formats\n\nSometimes data is provided in a way that uses the specific data formats of various statistical softwares. The most common formats are Excel files (.xlsx or .xls extensions), SPSS files (.sav extension), and Stata files (.dta extension). You can import these files and work with them in R even if you don't have e.g. SPSS or Stata installed.\n\n# Importing data files\n\n## Using the *Import dataset* button\n\nAt the beginning, you can let R do most of the work of importing data instead of figuring out the right functions and arguments yourself. Of course, if you are more comfortable with R, you will find it much more convenient to write your own importing code, as it is very straightforward to do so.\n\nBefore importing data to R, you need to download it to your computer. In most cases you will find clear instructions on how to do so on the website of the data source. Files will most likely be saved to your Downloads folder. In order to import it to R, you should first move it to your project folder, or use the full file path when specifying the file name.\n\nIn order to import files to R, open your project in RStudio. Find *File* -\\> *Import dataset* in the top left of RStudio, and choose the correct file format.\n\nIf you downloaded a CSV file, select the option \"from text (readr)\". `readr` is a tidyverse library, so it is preferred over `base` import functions. In the data import pop-up window click \"Browse\" and find the data that you would like to import. RStudio will try to automatically detect the format of your data: the result of that is shown in the Data preview window. If something looks wrong, try changing some of the settings below the data preview until the preview looks correct. Additionally, you should change the name of the data to something short and sensible, as you will refer to that name quite frequently in your code. Once all the settings are ready, you can copy the contents of the \"Code preview\" window into your script, and use it to import your data. As long as you start your script by importing `tidyverse`, you don't need to copy `library(readr)`, as `readr` is a part of `tidyverse`.\n\nImporting an Excel file is almost exactly the same, except you you should click File -\\> Import Dataset -\\> From Excel. Every following step is the same as with importing CSV files, except that you do need to load the `readxl` package separately, as it is not a part of `tidyverse`.\n\nThe result of copying the code should be similar to the following:\n\n```{r}\nlibrary(tidyverse)\nlibrary(readxl)\n\ndata1 <- read_csv(\"filename.csv\")\ndata2 <- read_excel(\"filename.xlsx\")\n```\n\n## Own import code\n\nLater on you might find it more convenient to write your own importing code. In that case, you should be familiar with the most common packages, functions, and function arguments for importing data. You should also make sure to remember to assign each data file to an object so that they are stored in the RStudio environment.\n\nCSV and other delimited text files can be imported using functions in the `tidyverse` package. CSV files can be easily imported using the `read_csv()` function; most of the time the only argument you need is the file path as a string. Other delimited files can be imported using the `read_delim()` function: there you need to specify both the file path to the data file and the delimiter as strings. The most common delimiters are semicolons (`delim = \";\"`) and tabs (`delim = \"\\t\"`). If your data has some special features, you might need to specify some additional arguments, such as `col_names = FALSE` if your data does not have column names, or `skip` if your data starts with non-data rows. You can find more information about these additional arguments in the help-files of `read_csv()` and `read_delim()`.\n\nYou can import Excel files using the `read_excel()` function from the `readxl` package. The function arguments are very similar to those of `read_csv()`: often it is enough to only specify the file path as a string, otherwise you can make use of the additional arguments. If your spreadsheet has multiple sheets, you also need to specify which sheet to import using he `sheet` argument.\n\nIf your data is a .sav or .dta file (SPSS or Stata data), you need the `haven` package to import data files. The functions you would need are `read_sav()` and `read_dta()`, and the main argument is still the file path as a string. Again, you can rely on the help-files of these functions for further explanation.\n\nAs long as you work in a project, you only need to specify relative file paths. If your data files are saved to your main project folder, then the relative file path is simply the file name (including the file extension, e.g. \"data.csv\"). If your data is in a subfolder within your project folder, then your relative file path must also include references to the subfolder(s), separated by slashes (/), e.g. as \"data/data.csv\".\n","srcMarkdownNoYaml":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE, eval = FALSE)\n```\n\nWhen working on projects in R, you will likely need to draw data from a variety of online sources. Each source that you use has their own conventions of storing data, so you have to be able to import multiple kinds of data files into R.\n\n# Common data files\n\n## CSV\n\nCSV files are a convenient and simple way of storing data. CSV stands for \"comma-separated values\": the raw data is text file where each line of text is a row of data, and values within a row are separated by commas. In most cases your computer will automatically open CSV files in Excel, where they are displayed as a table. CSV files are the most common and also one of the easiest to import to R.\n\n## Other delimited text files\n\nIf data is stored as text, the value separator (also known as delimiter) does not always a comma. Other common delimiters are semicolons (;) and tabs (whitespace). The most common file extensions for these files are .csv (for semicolon-delimited files), .tsv or .txt. These files often cannot be displayed as a table by simply opening the file, but you can observe their structure by opening them as text files.\n\n## Other data formats\n\nSometimes data is provided in a way that uses the specific data formats of various statistical softwares. The most common formats are Excel files (.xlsx or .xls extensions), SPSS files (.sav extension), and Stata files (.dta extension). You can import these files and work with them in R even if you don't have e.g. SPSS or Stata installed.\n\n# Importing data files\n\n## Using the *Import dataset* button\n\nAt the beginning, you can let R do most of the work of importing data instead of figuring out the right functions and arguments yourself. Of course, if you are more comfortable with R, you will find it much more convenient to write your own importing code, as it is very straightforward to do so.\n\nBefore importing data to R, you need to download it to your computer. In most cases you will find clear instructions on how to do so on the website of the data source. Files will most likely be saved to your Downloads folder. In order to import it to R, you should first move it to your project folder, or use the full file path when specifying the file name.\n\nIn order to import files to R, open your project in RStudio. Find *File* -\\> *Import dataset* in the top left of RStudio, and choose the correct file format.\n\nIf you downloaded a CSV file, select the option \"from text (readr)\". `readr` is a tidyverse library, so it is preferred over `base` import functions. In the data import pop-up window click \"Browse\" and find the data that you would like to import. RStudio will try to automatically detect the format of your data: the result of that is shown in the Data preview window. If something looks wrong, try changing some of the settings below the data preview until the preview looks correct. Additionally, you should change the name of the data to something short and sensible, as you will refer to that name quite frequently in your code. Once all the settings are ready, you can copy the contents of the \"Code preview\" window into your script, and use it to import your data. As long as you start your script by importing `tidyverse`, you don't need to copy `library(readr)`, as `readr` is a part of `tidyverse`.\n\nImporting an Excel file is almost exactly the same, except you you should click File -\\> Import Dataset -\\> From Excel. Every following step is the same as with importing CSV files, except that you do need to load the `readxl` package separately, as it is not a part of `tidyverse`.\n\nThe result of copying the code should be similar to the following:\n\n```{r}\nlibrary(tidyverse)\nlibrary(readxl)\n\ndata1 <- read_csv(\"filename.csv\")\ndata2 <- read_excel(\"filename.xlsx\")\n```\n\n## Own import code\n\nLater on you might find it more convenient to write your own importing code. In that case, you should be familiar with the most common packages, functions, and function arguments for importing data. You should also make sure to remember to assign each data file to an object so that they are stored in the RStudio environment.\n\nCSV and other delimited text files can be imported using functions in the `tidyverse` package. CSV files can be easily imported using the `read_csv()` function; most of the time the only argument you need is the file path as a string. Other delimited files can be imported using the `read_delim()` function: there you need to specify both the file path to the data file and the delimiter as strings. The most common delimiters are semicolons (`delim = \";\"`) and tabs (`delim = \"\\t\"`). If your data has some special features, you might need to specify some additional arguments, such as `col_names = FALSE` if your data does not have column names, or `skip` if your data starts with non-data rows. You can find more information about these additional arguments in the help-files of `read_csv()` and `read_delim()`.\n\nYou can import Excel files using the `read_excel()` function from the `readxl` package. The function arguments are very similar to those of `read_csv()`: often it is enough to only specify the file path as a string, otherwise you can make use of the additional arguments. If your spreadsheet has multiple sheets, you also need to specify which sheet to import using he `sheet` argument.\n\nIf your data is a .sav or .dta file (SPSS or Stata data), you need the `haven` package to import data files. The functions you would need are `read_sav()` and `read_dta()`, and the main argument is still the file path as a string. Again, you can rely on the help-files of these functions for further explanation.\n\nAs long as you work in a project, you only need to specify relative file paths. If your data files are saved to your main project folder, then the relative file path is simply the file name (including the file extension, e.g. \"data.csv\"). If your data is in a subfolder within your project folder, then your relative file path must also include references to the subfolder(s), separated by slashes (/), e.g. as \"data/data.csv\".\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../styles.css"],"toc":true,"output-file":"r_adv_import.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.555","editor":"visual","theme":"simplex","mainfont":"Cormorant SC","fontsize":"20px","layout":"page","title":"R: Importing data","date":"Last updated: `r Sys.Date()`"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}