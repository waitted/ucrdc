{"title":"Data wrangling: summarizing data (within groups)","markdown":{"yaml":{"layout":"page","title":"Data wrangling: summarizing data (within groups)","date":"Last updated: `r Sys.Date()`"},"headingText":"Video tutorial","containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE, error = FALSE)\n```\n\n\nPlease watch [this video (3:34)](https://vimeo.com/1011768227/2f3d24644f), then read and follow along with the written tutorial below. Compare your own output to what you see printed below to make sure all of your code runs as expected.\n\n## Introduction\n\nIn some cases you might need to summarize your data -- that is, collapse a lot of information into a few key statistics-- to understand it better and to compare different groups. In this tutorial, we show you how to summarize data within groups using the `group_by()` and `summarize()` functions from `tidyverse` functions and the `diamonds` dataset (which comes pre-loaded with `tidyverse` so you don't need to import it).\n\nLet's load the `tidyverse` package and have a look at the `diamonds` dataset:\n\n```{r}\n# load tidyverse\nlibrary(tidyverse)\n\n# add diamonds to the environment\ndata(diamonds)\n```\n\n## Default summary\n\nThe `summary()` function provides a quick overview of the data, printed in the console. For numeric variables, it shows the minimum, 1st quartile, median, mean, 3rd quartile, maximum, and the number of missing values. Let's use the `summary()` function to get an overview of the `diamonds` dataset:\n\n```{r}\n# get a summary of the diamonds dataset\nsummary(diamonds)\n```\n\n## Summarizing the data\n\nThe `summarize()` function can produce the same summary statistics as the `summary()` function and more, and it allows you to save the results to a new dataset. The `summarize()` function uses the argument structure `summarize(data, variable = expression)` where `data` is the dataset you want to summarize, `variable` is the name of the new variable, and `expression` is the calculation you want to perform. (Note that it has the same argument structure as the `mutate()` function for creating new variables. The difference is that `mutate()` calculates one value per observation and `summarize()` calculates one value for the whole dataset.)\n\nFor example, let's calculate the mean price of diamonds:\n\n```{r}\n# calculate the mean price of diamonds\nsummarize(diamonds, mean_price = mean(price))\n```\n\nYou can also calculate multiple summary statistics at once by separating them with a comma (and as a good practice, a new line).\n\nLet's calculate the mean price and the number of observations in the dataset:\n\n```{r}\n# calculate the mean price and the number of observations\nsummarize(diamonds,\n          mean_price = mean(price),\n          n = n())\n```\n\nTo be able to work with this new dataset, you need to save it to a new object. Let's assign the result of the `summarize()` function to a new object called `diamonds_summary`:\n\n```{r}\n# save the result to a new object\ndiamonds_summary <- summarize(diamonds,\n                              mean_price = mean(price),\n                              n = n())\n```\n\n## Summarizing data within groups\n\nThe `group_by()` function is used to group the data by one or more variables. Then summary statistics can be calculated within each group using the `summarize()` function in the same way as before. This is useful when you want to compare different groups in your data, for example the mean price of diamonds by cut.\n\nNote that the following code uses the pipe operator `|>` to chain the functions together. The pipe operator is used to pass the output of one function as the first input to the next function, making the code more readable. To read more about the pipe operator, see the tutorial on the [tidy workflow](../r_intro_workflow).\n\n```{r}\n# start with the diamonds tibble\ndiamonds |> \n  # group by cut\n  group_by(cut) |> \n  # calculate the mean price within each group\n  summarize(mean_price = mean(price))\n```\n\n<!-- ## Video tutorial TBA -->\n","srcMarkdownNoYaml":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE, error = FALSE)\n```\n\n## Video tutorial\n\nPlease watch [this video (3:34)](https://vimeo.com/1011768227/2f3d24644f), then read and follow along with the written tutorial below. Compare your own output to what you see printed below to make sure all of your code runs as expected.\n\n## Introduction\n\nIn some cases you might need to summarize your data -- that is, collapse a lot of information into a few key statistics-- to understand it better and to compare different groups. In this tutorial, we show you how to summarize data within groups using the `group_by()` and `summarize()` functions from `tidyverse` functions and the `diamonds` dataset (which comes pre-loaded with `tidyverse` so you don't need to import it).\n\nLet's load the `tidyverse` package and have a look at the `diamonds` dataset:\n\n```{r}\n# load tidyverse\nlibrary(tidyverse)\n\n# add diamonds to the environment\ndata(diamonds)\n```\n\n## Default summary\n\nThe `summary()` function provides a quick overview of the data, printed in the console. For numeric variables, it shows the minimum, 1st quartile, median, mean, 3rd quartile, maximum, and the number of missing values. Let's use the `summary()` function to get an overview of the `diamonds` dataset:\n\n```{r}\n# get a summary of the diamonds dataset\nsummary(diamonds)\n```\n\n## Summarizing the data\n\nThe `summarize()` function can produce the same summary statistics as the `summary()` function and more, and it allows you to save the results to a new dataset. The `summarize()` function uses the argument structure `summarize(data, variable = expression)` where `data` is the dataset you want to summarize, `variable` is the name of the new variable, and `expression` is the calculation you want to perform. (Note that it has the same argument structure as the `mutate()` function for creating new variables. The difference is that `mutate()` calculates one value per observation and `summarize()` calculates one value for the whole dataset.)\n\nFor example, let's calculate the mean price of diamonds:\n\n```{r}\n# calculate the mean price of diamonds\nsummarize(diamonds, mean_price = mean(price))\n```\n\nYou can also calculate multiple summary statistics at once by separating them with a comma (and as a good practice, a new line).\n\nLet's calculate the mean price and the number of observations in the dataset:\n\n```{r}\n# calculate the mean price and the number of observations\nsummarize(diamonds,\n          mean_price = mean(price),\n          n = n())\n```\n\nTo be able to work with this new dataset, you need to save it to a new object. Let's assign the result of the `summarize()` function to a new object called `diamonds_summary`:\n\n```{r}\n# save the result to a new object\ndiamonds_summary <- summarize(diamonds,\n                              mean_price = mean(price),\n                              n = n())\n```\n\n## Summarizing data within groups\n\nThe `group_by()` function is used to group the data by one or more variables. Then summary statistics can be calculated within each group using the `summarize()` function in the same way as before. This is useful when you want to compare different groups in your data, for example the mean price of diamonds by cut.\n\nNote that the following code uses the pipe operator `|>` to chain the functions together. The pipe operator is used to pass the output of one function as the first input to the next function, making the code more readable. To read more about the pipe operator, see the tutorial on the [tidy workflow](../r_intro_workflow).\n\n```{r}\n# start with the diamonds tibble\ndiamonds |> \n  # group by cut\n  group_by(cut) |> \n  # calculate the mean price within each group\n  summarize(mean_price = mean(price))\n```\n\n<!-- ## Video tutorial TBA -->\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../styles.css"],"toc":true,"output-file":"r_intro_summarize.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.555","editor":"visual","theme":"simplex","mainfont":"Cormorant SC","fontsize":"20px","layout":"page","title":"Data wrangling: summarizing data (within groups)","date":"Last updated: `r Sys.Date()`"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}