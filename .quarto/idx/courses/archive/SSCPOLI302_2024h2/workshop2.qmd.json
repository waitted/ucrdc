{"title":"SSCPOLI302:<br> Analysis of a legislative dossier (draft)","markdown":{"yaml":{"layout":"page","title":"SSCPOLI302:<br> Analysis of a legislative dossier (draft)","subtitle":"Fall 2024","date":"Last updated: `r Sys.Date()`"},"headingText":"Preparation for the workshop","containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE, error = FALSE)\n```\n\n\nIn the last Data Center workshop, each group will analyze the meetings related to a specific legislative dossier. You can find a list of the dossiers and the number of corresponding meetings and attendees [here](https://github.com/ucrdatacenter/projects/blob/main/SSCPOLI302/2024h2/List%20of%20legislative%20files.pdf).\n\nYou can find the full meeting data [here](https://github.com/ucrdatacenter/projects/blob/main/SSCPOLI302/2024h2/meetings_per_attendee.xlsx). This file is almost the same as the file you worked with in the first workshop, except that it only includes meetings with a linked legislative dossier, and if the meeting listed multiple attendees, each attendee is listed on a separate row. We will work with this dataset for the rest of this example.\n\nUnfortunately, the data is not standardized, and the attendees are not always reported in the same format. Therefore, you will need to clean the data to make it usable for analysis. To help you with this task, we have created files that list the unique attendee names that occur for each legislative dossier.\n\nOnce you know which legislative dossier your group will analyze, you can download the file containing the relevant attendee names from [GitHub](https://github.com/ucrdatacenter/projects/tree/main/SSCPOLI302/2024h2/attendees) (click on the file, then click the \"View Raw\" button to download the file). Download the file to your project directory, open it in Excel.\n\nYou can find instructions for how to clean and standardize the data in Excel in [this tutorial](https://github.com/ucrdatacenter/projects/blob/main/SSCPOLI302/2024h2/Data%20cleaning%20instructions.pdf). Please follow the instructions carefully and have your cleaned data file ready for the workshop. If you get stuck or have any questions, please attend the Data Center's office hours ([schedule](../../../contact)) or email us at [datacenter\\@ucr.nl](mailto:datacenter@ucr.nl).\n\n# Analyzing legislative dossiers in R\n\n## Loading the data\n\nOnce you have cleaned the data, you can start analyzing it in R. Below is a template for the analysis using for the dossier 2022/0396(COD), which is regulating packaging and packaging waste. Our cleaned data is stored in our project directory and is called \"2022_0396_COD_clean.xlsx\".\n\nIn this first code chunk, you only need to change the file name and the dossier reference (see comments) to match your data. This code will load the meeting data, filter it for the dossier of interest, load the cleaned list of attendees, and combine the two datasets. So in the data we will have not only the meetings related to the dossier 2022/0396(COD) as declared in the original data, but also the standardized attendee names and categories.\n\n```{r}\n# load the necessary libraries (install if needed)\nlibrary(tidyverse)\nlibrary(rio)\n\n# load the meeting data and filter for the dossier of interest\nmeetings_raw <- import(\"https://github.com/ucrdatacenter/projects/raw/main/SSCPOLI302/2024h2/meetings_per_attendee.xlsx\", setclass = \"tbl_df\") |> \n  mutate(meeting_date = as.Date(meeting_date))\n\n# load the cleaned list of attendees (change the file name to match your data)\nattendees <- import(\"2022_0396_COD_clean.xlsx\", setclass = \"tbl_df\")\n\n# combine the two datasets\nmeetings <- meetings_raw |> \n  # filter for dossier of interest (change the reference to match your dossier)\n  filter(procedure_reference == \"2022/0396(COD)\") |> \n  left_join(attendees, by = \"attendees\")\n```\n\n## MEP characteristics\n\nThe main analysis of the file will largely follow the same steps as the ones for the complete EP dataset. We mainly use the `count()` function to learn more about the distribution of MEP and attendee characteristics at the meetings related to the dossier.\n\nFirst, we can look at the distribution of MEPs by their political group and role -- this is very similar to the analysis we did in the previous workshop, except now we restrict the sample to a legislative dossier. We can reuse the code from the previous workshop to create a bar chart for member role and color the bars by political groups.\n\n```{r}\n# define political group colors\ncolors <- c(\"EPP\" = \"deepskyblue\", \n            \"S&D\" = \"red\",\n            \"Renew\" = \"gold\", \n            \"Greens\" = \"forestgreen\",\n            \"ECR\" = \"deepskyblue4\", \n            \"ID\" = \"darkblue\", \n            \"the Left\" = \"darkred\", \n            \"Non-attached\" = \"grey\")\n\n# count how many meetings each MEP attended by political group and role\nmeetings |> \n  count(political_group, member_capacity, sort = TRUE) |> \n  ggplot() +\n  geom_col(aes(x = n, y = member_capacity, fill = political_group)) +\n  scale_fill_manual(values = colors) +\n  labs(title = \"Characteristics of MEPs attending meetings\", \n       y = \"Member role\", \n       x = \"Number of meetings\",\n       fill = \"Political group\")\n```\n\nAnother MEP characteristic we can look at is their nationality. Let's add both nationalities and member roles to a bar chart.\n\n```{r}\n# count the MEP nationalities in the data\nmeetings |> \n  count(country, member_capacity, sort = TRUE) |> \n  ggplot() +\n  geom_col(aes(x = n, y = reorder(country, n), fill = member_capacity)) +\n  labs(title = \"Nationalities of MEPs attending meetings\", \n       y = \"Country\", \n       x = \"Number of meetings\",\n       fill = \"Member role\")\n```\n\n## Attendee characteristics\n\nWith our improved dataset we can also do some additional analyses by looking at the nature of the actors that were involved.\n\nFirst, let's look at who the attendees are and how many meetings they each attended.\n\n```{r}\n# count how many meetings each attendee attended (using the fixed names)\nmeetings |> \n  count(fixed_names, sort = TRUE)\n```\n\nThis list contains too many different entities to create a readable plots, so let's try to group the attendees by their class and structure, which we previously defined manually. Then we can plot the distribution of these categories.\n\n```{r}\n# count attendee class and structure\nmeetings |> \n  count(class, structure, sort = TRUE) |> \n  ggplot() +\n  geom_col(aes(x = n, y = reorder(class, n), fill = structure)) +\n  labs(title = \"Distribution of attendees by class and structure\", \n       y = \"Class\", \n       x = \"Number of attendees\",\n       fill = \"Structure\")\n```\n\nYou can also try different combinations of variables -- e.g. combine attendee and MEP characteristics on one plot -- to see if there are any interesting patterns.\n\n```{r, echo=FALSE}\n# \n# #Improving the overview of our attendee list by adding their class & structure\n# Classstruc_attendee_count <-\n#     Test_complete |>\n#     group_by(fixed_names, class, structure) |>\n#     summarize(count = n()) |>\n#     arrange(desc(count))\n# \n# #Counting how many attendees of different classes & structures were involved\n# Classstruc_file <-\n#     Test_complete |>\n#     group_by(class, structure) |>\n#     summarize(count = n()) |>\n#     arrange(desc(count))\n# \n# #Additionally, we can also apply these variables to our examination of \n# #nationalities and political groups. This way we not only get a picture of how\n# #many times a group/nationality was lobbied, but also of the types of actors \n# #that were involved.\n# Group_classstruc_file <-\n#     Test_complete |>\n#     group_by(political_group, class, structure) |>\n#     summarize(count = n())\n#     \n# Nationality_classstruc_file <-\n#     Test_complete |>\n#     group_by(country, class, structure) |>\n#     summarize(count = n())\n# \n# #Data should be supported by visualisations similar to those of the first lectures\n# \n# \n# #How do these results relate to theories of interest representation and access\n# #to the European Parliament?\n# \n\n```\n\n## Meeting timeline\n\nLastly, we can look at the timeline of the lobbying activity to see if there are patterns related to events during the file's legislative procedure.\n\n```{r}\n# meeting timeline for the dossier\nmeetings |>\n  ggplot() +\n  geom_histogram(aes(x = meeting_date), binwidth = 30) +\n  labs(title = \"Meeting activity related to legislative file 2022/0396(COD)\", \n       x = \"Date\", \n       y = \"Frequency of meetings\")\n```\n\nWe can see a few peaks around specific dates. These are worth examining further. Using external sources, we can try to uncover what events took place at this point. Examples if influential events may be the appointments of committees, parliament votes, amendments, court verdicts or the emergence of major crises/scandals.\n\n<https://www.europarl.europa.eu/legislative-train/schedule>\n\n<https://oeil.secure.europarl.europa.eu/oeil/home/home.do>\n\n<https://parltrack.org/dossier/2022/0396(COD)#/general>\n\nOptionally, we can also look at whether these attendees met with European Institutions besides the EP. This could signify a larger strategy and could tell us more about access to European institutions.\n\n<https://transparency-register.europa.eu/searchregister-or-update/search-register_en>\n","srcMarkdownNoYaml":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE, error = FALSE)\n```\n\n# Preparation for the workshop\n\nIn the last Data Center workshop, each group will analyze the meetings related to a specific legislative dossier. You can find a list of the dossiers and the number of corresponding meetings and attendees [here](https://github.com/ucrdatacenter/projects/blob/main/SSCPOLI302/2024h2/List%20of%20legislative%20files.pdf).\n\nYou can find the full meeting data [here](https://github.com/ucrdatacenter/projects/blob/main/SSCPOLI302/2024h2/meetings_per_attendee.xlsx). This file is almost the same as the file you worked with in the first workshop, except that it only includes meetings with a linked legislative dossier, and if the meeting listed multiple attendees, each attendee is listed on a separate row. We will work with this dataset for the rest of this example.\n\nUnfortunately, the data is not standardized, and the attendees are not always reported in the same format. Therefore, you will need to clean the data to make it usable for analysis. To help you with this task, we have created files that list the unique attendee names that occur for each legislative dossier.\n\nOnce you know which legislative dossier your group will analyze, you can download the file containing the relevant attendee names from [GitHub](https://github.com/ucrdatacenter/projects/tree/main/SSCPOLI302/2024h2/attendees) (click on the file, then click the \"View Raw\" button to download the file). Download the file to your project directory, open it in Excel.\n\nYou can find instructions for how to clean and standardize the data in Excel in [this tutorial](https://github.com/ucrdatacenter/projects/blob/main/SSCPOLI302/2024h2/Data%20cleaning%20instructions.pdf). Please follow the instructions carefully and have your cleaned data file ready for the workshop. If you get stuck or have any questions, please attend the Data Center's office hours ([schedule](../../../contact)) or email us at [datacenter\\@ucr.nl](mailto:datacenter@ucr.nl).\n\n# Analyzing legislative dossiers in R\n\n## Loading the data\n\nOnce you have cleaned the data, you can start analyzing it in R. Below is a template for the analysis using for the dossier 2022/0396(COD), which is regulating packaging and packaging waste. Our cleaned data is stored in our project directory and is called \"2022_0396_COD_clean.xlsx\".\n\nIn this first code chunk, you only need to change the file name and the dossier reference (see comments) to match your data. This code will load the meeting data, filter it for the dossier of interest, load the cleaned list of attendees, and combine the two datasets. So in the data we will have not only the meetings related to the dossier 2022/0396(COD) as declared in the original data, but also the standardized attendee names and categories.\n\n```{r}\n# load the necessary libraries (install if needed)\nlibrary(tidyverse)\nlibrary(rio)\n\n# load the meeting data and filter for the dossier of interest\nmeetings_raw <- import(\"https://github.com/ucrdatacenter/projects/raw/main/SSCPOLI302/2024h2/meetings_per_attendee.xlsx\", setclass = \"tbl_df\") |> \n  mutate(meeting_date = as.Date(meeting_date))\n\n# load the cleaned list of attendees (change the file name to match your data)\nattendees <- import(\"2022_0396_COD_clean.xlsx\", setclass = \"tbl_df\")\n\n# combine the two datasets\nmeetings <- meetings_raw |> \n  # filter for dossier of interest (change the reference to match your dossier)\n  filter(procedure_reference == \"2022/0396(COD)\") |> \n  left_join(attendees, by = \"attendees\")\n```\n\n## MEP characteristics\n\nThe main analysis of the file will largely follow the same steps as the ones for the complete EP dataset. We mainly use the `count()` function to learn more about the distribution of MEP and attendee characteristics at the meetings related to the dossier.\n\nFirst, we can look at the distribution of MEPs by their political group and role -- this is very similar to the analysis we did in the previous workshop, except now we restrict the sample to a legislative dossier. We can reuse the code from the previous workshop to create a bar chart for member role and color the bars by political groups.\n\n```{r}\n# define political group colors\ncolors <- c(\"EPP\" = \"deepskyblue\", \n            \"S&D\" = \"red\",\n            \"Renew\" = \"gold\", \n            \"Greens\" = \"forestgreen\",\n            \"ECR\" = \"deepskyblue4\", \n            \"ID\" = \"darkblue\", \n            \"the Left\" = \"darkred\", \n            \"Non-attached\" = \"grey\")\n\n# count how many meetings each MEP attended by political group and role\nmeetings |> \n  count(political_group, member_capacity, sort = TRUE) |> \n  ggplot() +\n  geom_col(aes(x = n, y = member_capacity, fill = political_group)) +\n  scale_fill_manual(values = colors) +\n  labs(title = \"Characteristics of MEPs attending meetings\", \n       y = \"Member role\", \n       x = \"Number of meetings\",\n       fill = \"Political group\")\n```\n\nAnother MEP characteristic we can look at is their nationality. Let's add both nationalities and member roles to a bar chart.\n\n```{r}\n# count the MEP nationalities in the data\nmeetings |> \n  count(country, member_capacity, sort = TRUE) |> \n  ggplot() +\n  geom_col(aes(x = n, y = reorder(country, n), fill = member_capacity)) +\n  labs(title = \"Nationalities of MEPs attending meetings\", \n       y = \"Country\", \n       x = \"Number of meetings\",\n       fill = \"Member role\")\n```\n\n## Attendee characteristics\n\nWith our improved dataset we can also do some additional analyses by looking at the nature of the actors that were involved.\n\nFirst, let's look at who the attendees are and how many meetings they each attended.\n\n```{r}\n# count how many meetings each attendee attended (using the fixed names)\nmeetings |> \n  count(fixed_names, sort = TRUE)\n```\n\nThis list contains too many different entities to create a readable plots, so let's try to group the attendees by their class and structure, which we previously defined manually. Then we can plot the distribution of these categories.\n\n```{r}\n# count attendee class and structure\nmeetings |> \n  count(class, structure, sort = TRUE) |> \n  ggplot() +\n  geom_col(aes(x = n, y = reorder(class, n), fill = structure)) +\n  labs(title = \"Distribution of attendees by class and structure\", \n       y = \"Class\", \n       x = \"Number of attendees\",\n       fill = \"Structure\")\n```\n\nYou can also try different combinations of variables -- e.g. combine attendee and MEP characteristics on one plot -- to see if there are any interesting patterns.\n\n```{r, echo=FALSE}\n# \n# #Improving the overview of our attendee list by adding their class & structure\n# Classstruc_attendee_count <-\n#     Test_complete |>\n#     group_by(fixed_names, class, structure) |>\n#     summarize(count = n()) |>\n#     arrange(desc(count))\n# \n# #Counting how many attendees of different classes & structures were involved\n# Classstruc_file <-\n#     Test_complete |>\n#     group_by(class, structure) |>\n#     summarize(count = n()) |>\n#     arrange(desc(count))\n# \n# #Additionally, we can also apply these variables to our examination of \n# #nationalities and political groups. This way we not only get a picture of how\n# #many times a group/nationality was lobbied, but also of the types of actors \n# #that were involved.\n# Group_classstruc_file <-\n#     Test_complete |>\n#     group_by(political_group, class, structure) |>\n#     summarize(count = n())\n#     \n# Nationality_classstruc_file <-\n#     Test_complete |>\n#     group_by(country, class, structure) |>\n#     summarize(count = n())\n# \n# #Data should be supported by visualisations similar to those of the first lectures\n# \n# \n# #How do these results relate to theories of interest representation and access\n# #to the European Parliament?\n# \n\n```\n\n## Meeting timeline\n\nLastly, we can look at the timeline of the lobbying activity to see if there are patterns related to events during the file's legislative procedure.\n\n```{r}\n# meeting timeline for the dossier\nmeetings |>\n  ggplot() +\n  geom_histogram(aes(x = meeting_date), binwidth = 30) +\n  labs(title = \"Meeting activity related to legislative file 2022/0396(COD)\", \n       x = \"Date\", \n       y = \"Frequency of meetings\")\n```\n\nWe can see a few peaks around specific dates. These are worth examining further. Using external sources, we can try to uncover what events took place at this point. Examples if influential events may be the appointments of committees, parliament votes, amendments, court verdicts or the emergence of major crises/scandals.\n\n<https://www.europarl.europa.eu/legislative-train/schedule>\n\n<https://oeil.secure.europarl.europa.eu/oeil/home/home.do>\n\n<https://parltrack.org/dossier/2022/0396(COD)#/general>\n\nOptionally, we can also look at whether these attendees met with European Institutions besides the EP. This could signify a larger strategy and could tell us more about access to European institutions.\n\n<https://transparency-register.europa.eu/searchregister-or-update/search-register_en>\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../styles.css"],"toc":true,"output-file":"workshop2.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.555","editor":"visual","theme":"simplex","mainfont":"Cormorant SC","fontsize":"20px","layout":"page","title":"SSCPOLI302:<br> Analysis of a legislative dossier (draft)","subtitle":"Fall 2024","date":"Last updated: `r Sys.Date()`"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}