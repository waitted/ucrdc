{"title":"AH-ANTQ103: Workshop 2","markdown":{"yaml":{"layout":"page","title":"AH-ANTQ103: Workshop 2","subtitle":"Spring 2024","date":"Last updated: `r Sys.Date()`"},"headingText":"Introduction","containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE, message=FALSE, warning=FALSE, error=FALSE)\n```\n\n\nIn this workshop, we will expand on some of the basic functions, use tidyverse more and introduce some archaeology specific functions. It will follow the flow of a more typical data analysis workflow. We will work with data about lithics from the Jerimalai rockshelter in East-Timor. This workshop has been inspired by the 'tidyverse for archaeologists' workshop by Professor Ben Marwick.\n\nSome of the code will be evaluated here, but some will not so please copy and paste the code into your own script and run it there.\n\nLoad the `tidyverse` package.\n\n```{r tidyverse, message=FALSE, warning=FALSE}\nlibrary(tidyverse)\n```\n\n## Data\n\nThis data is coming from an URL, and it is an excel file. We unfortunately cannot use tidyverse to read excel files, so we will use the `rio` package.\n\nInstall the `rio` package.\n\n```{r rio_download, eval=FALSE}\ninstall.packages(\"rio\")\n```\n\n```{r rio, message=FALSE, warning=FALSE}\nlibrary(rio)\n```\n\nLoad the data using `import`.\n\n```{r import, message=FALSE, warning=FALSE}\ndata <- import(\"https://bit.ly/j_data_xlsx\", setclass = \"tbl_df\")\n```\n\nLet's have a look at the data.\n\n```{r looking_at_data, eval = FALSE}\nView(data)\nsummary(data)\n```\n\n```{r numbers_and_names}\nnrow(data)\nncol(data)\nnames(data)\nhead(data)\n```\n\nWe will select the `Square`, `Spit` and `Weight` columns. Note that we can select multiple columns in one go using the comma.\n\n```{r select, eval=FALSE}\ndata %>% \n  select(Square, Spit, Weight)\n```\n\n## Plotting\n\nWe now want to get into plotting our data. For this we are only interested in the `Square`, `Spit`, `Material`, `Weight` and `Thick` columns.\n\n```{r select_2, message=FALSE, warning=FALSE}\nplotting_data <- data %>% \n  select(Square, Spit, Material, Weight, Thick)\nplotting_data\n```\n\nWe can now create a histogram of the `Weight` column. This will show how many artefacts have a certain weight. We can do this using the `ggplot()` function. This function takes a tibble, and creates a plot. ggplot works with layers. We can add these layers with a + sign. The base command is `ggplot()`. This creates a white canvas, and you can add information that is passed to the layers.\n\n```{r ggplot, message=FALSE, warning=FALSE}\nggplot(plotting_data)\n```\n\nAs we want to make a histogram, we only need to specify the x axis.\n\n```{r ggplot_2, message=FALSE, warning=FALSE}\nggplot(plotting_data, aes(x = Weight))\n```\n\nNow we need to add a layer that displays the data. These layers are known as geoms. There are many different geoms, but we want to create a histogram, so we will use the `geom_histogram()` function.\n\n```{r ggplot_3, message=FALSE, warning=FALSE}\nggplot(plotting_data, aes(x = Weight)) +\n  geom_histogram()\n```\n\nThere are some weights that are very large, but most are close to zero. If we change the x axis scale to a logaritmic scale, we can see the distribution better. We do this by adding the `scale_x_log10()` layer.\n\nA logarithm is a mathematical function that increases slowly at first, and then faster and faster. This is useful for data that has a large range, as it compresses the data and makes it easier to see the distribution. This specific logarithm is the base 10 logarithm, which means that 10 is raised to the power of the number on the x axis. For example, 10\\^2 = 100, so the number 2 would be at the position 100 on the x axis.\n\n```{r logs_tibble, message=FALSE, warning=FALSE}\nlogs_tibble <- tibble(x = c(10^0, 10^1, 10^2, 10^3, 10^4), y = c(\"10^0\", \"10^1\", \"10^2\", \"10^3\", \"10^4\"), z = log10(x))\nlogs_tibble\n```\n\n```{r ggplot_4, message=FALSE, warning=FALSE}\nggplot(plotting_data, aes(x = Weight)) +\n  geom_histogram() +\n  scale_x_log10()\n```\n\nWe can also change the theme of the plot. There are many themes available, but we will use the `theme_bw()` theme.\n\n```{r ggplot_5, message=FALSE, warning=FALSE}\nggplot(plotting_data, aes(x = Weight)) +\n  geom_histogram() +\n  scale_x_log10() +\n  theme_bw()\n```\n\nWe now only want to keep rows that have the \"A\" value for the `Square` column. We can do this using the `filter()` function. Keep in mind that \"A\" is a string, so we need to use quotation marks and two equal signs.\n\n```{r filter}\nplotting_data %>% \n  filter(Square == \"A\")\n```\n\nNow, from these rows we only want light objects, lets say with a `Weight` less than 10. We can do this by adding another filter.\n\n```{r filter_2}\nplotting_data %>% \n  filter(Square == \"A\") %>% \n  filter(Weight < 10)\n```\n\nAnd a thickness between 0.2 and 20. We can either do this by adding two filters, or by using the `between()` function. Note that there is an important difference between \\> and \\>=, and \\< and \\<=.\n\n```{r filter_3}\nplotting_data %>% \n  filter(Square == \"A\") %>% \n  filter(Weight < 10) %>% \n  filter(Thick > 0.2) %>% \n  filter(Thick < 20)\n```\n\n```{r filter_4}\nplotting_data %>% \n  filter(Square == \"A\") %>% \n  filter(Weight < 10) %>% \n  filter(between(Thick, 0.2, 20))\n```\n\nAlternatively, you can combine them in one filter function.\n\n```{r filter_5}\nplotting_data %>%\n  filter(Square == \"A\" & Weight < 10 & between(Thick, 0.2, 20))\n```\n\nWe also don't want rows that have `NA` values in the `Material` column.\n\n```{r filter_6}\nplotting_data %>%\n  filter(Square == \"A\") %>% \n  filter(Weight < 10) %>% \n  filter(between(Thick, 0.2, 20)) %>% \n  drop_na(Material)\n```\n\nWe now want to make a scatterplot of the `Weight` and `Thick` columns.\n\n```{r filter_7}\n new_plotting_data <- plotting_data %>%\n  filter(Square == \"A\") %>% \n  filter(Weight < 10) %>% \n  filter(between(Thick, 0.2, 20)) %>% \n  drop_na(Material)\n```\n\nCreate the empty plot.\n\n```{r ggplot_6, message=FALSE, warning=FALSE}\n ggplot(new_plotting_data, aes(x = Weight, y = Thick))\n```\n\nAdd the points layer.\n\n```{r ggplot_7, message=FALSE, warning=FALSE}\n ggplot(new_plotting_data, aes(x = Weight, y = Thick)) +\n  geom_point()\n```\n\nIt may again be useful to change the x axis to a logaritmic scale.\n\n```{r ggplot_8, message=FALSE, warning=FALSE}\n ggplot(new_plotting_data, aes(x = Weight, y = Thick)) +\n  geom_point() +\n  scale_x_log10()\n```\n\nWe can also do the same for the y axis.\n\n```{r ggplot_9, message=FALSE, warning=FALSE}\n ggplot(new_plotting_data, aes(x = Weight, y = Thick)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_y_log10()\n```\n\nWe now set the theme, as well as changing the axis labels.\n\n```{r ggplot_10, message=FALSE, warning=FALSE}\n ggplot(new_plotting_data, aes(x = Weight, y = Thick)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_y_log10() +\n  theme_bw() +\n  labs(x = \"Weight (g)\", y = \"Thickness (mm)\")\n```\n\nWe can also add a colour to the points based on the material the object is made of. We do this by adding the `colour = Material` argument to the `aes()` function.\n\n```{r ggplot_11, message=FALSE, warning=FALSE}\n ggplot(new_plotting_data, aes(x = Weight, y = Thick, colour = Material)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_y_log10() +\n  theme_bw() +\n  labs(x = \"Weight (g)\", y = \"Thickness (mm)\")\n```\n\nWe can change the position of the legend using the `theme()` function. We need to specify the x and y coordinates of the legend. This uses a coordinate system between 0 and 1, so 0.5 is in the middle.\n\n```{r ggplot_12, message=FALSE, warning=FALSE}\nggplot(new_plotting_data, aes(x = Weight, y = Thick, colour = Material)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_y_log10() +\n  theme_bw() +\n  labs(x = \"Weight (g)\", y = \"Thickness (mm)\") +\n  theme(legend.position = c(0.85, 0.3))\n```\n\nOur goal now is to make a boxplot of the `plat_area` column, grouped by the `Material` column. Lets get the data first. We need to create the `plat_area` column first.\n\n```{r boxplot_1}\nplat_area_data <- data %>% \n  mutate(plat_area = Platwid * Platthic)\n```\n\nNow we only keep materials that have more than 5 objects and remove `NA` values.\n\n```{r boxplot_2}\nplat_area_data <- plat_area_data %>% \n  group_by(Material) %>% \n  filter(n() > 5) %>% \n  drop_na(Material)\n```\n\nNow create the plot using the `geom_boxplot()` function. We leave the code for a homework assignment.\n\n```{r boxplot_3, echo = FALSE, warning=FALSE}\nggplot(data = plat_area_data) +  \n  aes(x = Material,  \n      y = plat_area) +  \n  geom_boxplot() +  \n  scale_y_log10() +  \n  labs(x = \"Raw Material\",  \n       y =  \"Platform Area\") +  \n  theme_classic(base_size = 14)\n```\n\nWe now want to create a plot that shows the number of objects per material. First get the data.\n\n```{r barplot_1}\nmaterial_data <- plat_area_data %>% \n  group_by(Material) %>% \n  count()\n```\n\nNow create the plot using the `geom_col()` function.\n\n```{r barplot_2, warning=FALSE}\nggplot(data = material_data) +  \n  aes(x = Material,  \n      y = n) +  \n  geom_col() +  \n  scale_y_log10() +  \n  labs(x = \"Raw Material\",  \n       y =  \"Number of Objects\") +  \n  theme_classic(base_size = 14)\n```\n\nWe can change the order of the columns using the `reorder()` function. We need to specify the column we want to reorder, and the column we want to order by. In this case, we want to order the `Material` column by the `n` column.\n\n```{r barplot_3, warning=FALSE}\nggplot(data = material_data) +  \n  aes(x = reorder(Material, n),  \n      y = n) +  \n  geom_col() +  \n  scale_y_log10() +  \n  labs(x = \"Raw Material\",  \n       y =  \"Number of Objects\") +  \n  theme_classic(base_size = 14)\n```\n\nIf we wanted to create a top 5 plot, we would first arrange the data by the `n` column, and then only keep the top 5 rows.\n\n```{r barplot_5, warning=FALSE}\nmaterial_data <- material_data %>% \n  arrange(desc(n)) %>% # Note we arrange the rows in descending order, so the largest value is at the top\n  head(5)\n\nggplot(data = material_data) +\n  aes(x = reorder(Material, n), y = n) +\n  geom_col() +\n  scale_y_log10() +\n  labs(x = \"Raw Material\", y = \"Number of Objects\") +\n  theme_classic(base_size = 14)\n```\n\nNow lets say we want to make a plot of the distributions of length of each object. We can either manually create each plot by filtering for each material, or we can use the `facet_wrap()` function.\n\n```{r facet_wrap_1}\nggplot(data = plat_area_data) +  \n  aes(x = Length) +  \n  geom_histogram() +  \n  facet_wrap(~Material) +  \n  labs(x = \"Length (mm)\",  \n       y =  \"Number of Objects\") +  \n  theme_classic(base_size = 14)\n```\n\nDue to the amount of chert items in the data, this is not very useful, but we can set the `y` axis to be free for each plot.\n\n```{r facet_wrap_2, warning=FALSE, message=FALSE}\nggplot(data = plat_area_data) +  \n  aes(x = Length) +  \n  geom_histogram() +  \n  facet_wrap(~Material, scales = \"free_y\") +  \n  labs(x = \"Length (mm)\",  \n       y =  \"Number of Objects\") +  \n  theme_classic(base_size = 14)\n```\n\n## Homework assignments\n\n### Assignment 1\n\nCreate the plot below. This is the same plot as we made earlier in the workshop.\n\n```{r assignment_1, echo = FALSE, warning=FALSE}\nggplot(data = plat_area_data) +  \n  aes(x = Material,  \n      y = plat_area) +  \n  geom_boxplot() +  \n  scale_y_log10() +  \n  labs(x = \"Raw Material\",  \n       y =  \"Platform Area\") +  \n  theme_classic(base_size = 14)\n```\n\n### Assignment 2\n\nCreate the plot below of the most common colours. You will need to perform some data manipulation first.\n\n```{r assignment_2, echo = FALSE, warning=FALSE}\ncolour_count <- data %>% \n  group_by(Colour) %>% \n  count() %>% \n  drop_na(Colour) %>% \n  arrange(desc(n)) %>%\n  head(7)\n\nggplot(data = colour_count) + \n  aes(x = reorder(Colour, n), y = n) +\n  geom_col() +\n  labs(x = \"Colour\", y = \"Number of Objects\") +\n  theme_classic(base_size = 14) \n```\n\n### Assignment 3\n\nWhat is the most common term in the dataset? Create a tibble that contains the term and the number of times it occurs.\n","srcMarkdownNoYaml":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE, message=FALSE, warning=FALSE, error=FALSE)\n```\n\n## Introduction\n\nIn this workshop, we will expand on some of the basic functions, use tidyverse more and introduce some archaeology specific functions. It will follow the flow of a more typical data analysis workflow. We will work with data about lithics from the Jerimalai rockshelter in East-Timor. This workshop has been inspired by the 'tidyverse for archaeologists' workshop by Professor Ben Marwick.\n\nSome of the code will be evaluated here, but some will not so please copy and paste the code into your own script and run it there.\n\nLoad the `tidyverse` package.\n\n```{r tidyverse, message=FALSE, warning=FALSE}\nlibrary(tidyverse)\n```\n\n## Data\n\nThis data is coming from an URL, and it is an excel file. We unfortunately cannot use tidyverse to read excel files, so we will use the `rio` package.\n\nInstall the `rio` package.\n\n```{r rio_download, eval=FALSE}\ninstall.packages(\"rio\")\n```\n\n```{r rio, message=FALSE, warning=FALSE}\nlibrary(rio)\n```\n\nLoad the data using `import`.\n\n```{r import, message=FALSE, warning=FALSE}\ndata <- import(\"https://bit.ly/j_data_xlsx\", setclass = \"tbl_df\")\n```\n\nLet's have a look at the data.\n\n```{r looking_at_data, eval = FALSE}\nView(data)\nsummary(data)\n```\n\n```{r numbers_and_names}\nnrow(data)\nncol(data)\nnames(data)\nhead(data)\n```\n\nWe will select the `Square`, `Spit` and `Weight` columns. Note that we can select multiple columns in one go using the comma.\n\n```{r select, eval=FALSE}\ndata %>% \n  select(Square, Spit, Weight)\n```\n\n## Plotting\n\nWe now want to get into plotting our data. For this we are only interested in the `Square`, `Spit`, `Material`, `Weight` and `Thick` columns.\n\n```{r select_2, message=FALSE, warning=FALSE}\nplotting_data <- data %>% \n  select(Square, Spit, Material, Weight, Thick)\nplotting_data\n```\n\nWe can now create a histogram of the `Weight` column. This will show how many artefacts have a certain weight. We can do this using the `ggplot()` function. This function takes a tibble, and creates a plot. ggplot works with layers. We can add these layers with a + sign. The base command is `ggplot()`. This creates a white canvas, and you can add information that is passed to the layers.\n\n```{r ggplot, message=FALSE, warning=FALSE}\nggplot(plotting_data)\n```\n\nAs we want to make a histogram, we only need to specify the x axis.\n\n```{r ggplot_2, message=FALSE, warning=FALSE}\nggplot(plotting_data, aes(x = Weight))\n```\n\nNow we need to add a layer that displays the data. These layers are known as geoms. There are many different geoms, but we want to create a histogram, so we will use the `geom_histogram()` function.\n\n```{r ggplot_3, message=FALSE, warning=FALSE}\nggplot(plotting_data, aes(x = Weight)) +\n  geom_histogram()\n```\n\nThere are some weights that are very large, but most are close to zero. If we change the x axis scale to a logaritmic scale, we can see the distribution better. We do this by adding the `scale_x_log10()` layer.\n\nA logarithm is a mathematical function that increases slowly at first, and then faster and faster. This is useful for data that has a large range, as it compresses the data and makes it easier to see the distribution. This specific logarithm is the base 10 logarithm, which means that 10 is raised to the power of the number on the x axis. For example, 10\\^2 = 100, so the number 2 would be at the position 100 on the x axis.\n\n```{r logs_tibble, message=FALSE, warning=FALSE}\nlogs_tibble <- tibble(x = c(10^0, 10^1, 10^2, 10^3, 10^4), y = c(\"10^0\", \"10^1\", \"10^2\", \"10^3\", \"10^4\"), z = log10(x))\nlogs_tibble\n```\n\n```{r ggplot_4, message=FALSE, warning=FALSE}\nggplot(plotting_data, aes(x = Weight)) +\n  geom_histogram() +\n  scale_x_log10()\n```\n\nWe can also change the theme of the plot. There are many themes available, but we will use the `theme_bw()` theme.\n\n```{r ggplot_5, message=FALSE, warning=FALSE}\nggplot(plotting_data, aes(x = Weight)) +\n  geom_histogram() +\n  scale_x_log10() +\n  theme_bw()\n```\n\nWe now only want to keep rows that have the \"A\" value for the `Square` column. We can do this using the `filter()` function. Keep in mind that \"A\" is a string, so we need to use quotation marks and two equal signs.\n\n```{r filter}\nplotting_data %>% \n  filter(Square == \"A\")\n```\n\nNow, from these rows we only want light objects, lets say with a `Weight` less than 10. We can do this by adding another filter.\n\n```{r filter_2}\nplotting_data %>% \n  filter(Square == \"A\") %>% \n  filter(Weight < 10)\n```\n\nAnd a thickness between 0.2 and 20. We can either do this by adding two filters, or by using the `between()` function. Note that there is an important difference between \\> and \\>=, and \\< and \\<=.\n\n```{r filter_3}\nplotting_data %>% \n  filter(Square == \"A\") %>% \n  filter(Weight < 10) %>% \n  filter(Thick > 0.2) %>% \n  filter(Thick < 20)\n```\n\n```{r filter_4}\nplotting_data %>% \n  filter(Square == \"A\") %>% \n  filter(Weight < 10) %>% \n  filter(between(Thick, 0.2, 20))\n```\n\nAlternatively, you can combine them in one filter function.\n\n```{r filter_5}\nplotting_data %>%\n  filter(Square == \"A\" & Weight < 10 & between(Thick, 0.2, 20))\n```\n\nWe also don't want rows that have `NA` values in the `Material` column.\n\n```{r filter_6}\nplotting_data %>%\n  filter(Square == \"A\") %>% \n  filter(Weight < 10) %>% \n  filter(between(Thick, 0.2, 20)) %>% \n  drop_na(Material)\n```\n\nWe now want to make a scatterplot of the `Weight` and `Thick` columns.\n\n```{r filter_7}\n new_plotting_data <- plotting_data %>%\n  filter(Square == \"A\") %>% \n  filter(Weight < 10) %>% \n  filter(between(Thick, 0.2, 20)) %>% \n  drop_na(Material)\n```\n\nCreate the empty plot.\n\n```{r ggplot_6, message=FALSE, warning=FALSE}\n ggplot(new_plotting_data, aes(x = Weight, y = Thick))\n```\n\nAdd the points layer.\n\n```{r ggplot_7, message=FALSE, warning=FALSE}\n ggplot(new_plotting_data, aes(x = Weight, y = Thick)) +\n  geom_point()\n```\n\nIt may again be useful to change the x axis to a logaritmic scale.\n\n```{r ggplot_8, message=FALSE, warning=FALSE}\n ggplot(new_plotting_data, aes(x = Weight, y = Thick)) +\n  geom_point() +\n  scale_x_log10()\n```\n\nWe can also do the same for the y axis.\n\n```{r ggplot_9, message=FALSE, warning=FALSE}\n ggplot(new_plotting_data, aes(x = Weight, y = Thick)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_y_log10()\n```\n\nWe now set the theme, as well as changing the axis labels.\n\n```{r ggplot_10, message=FALSE, warning=FALSE}\n ggplot(new_plotting_data, aes(x = Weight, y = Thick)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_y_log10() +\n  theme_bw() +\n  labs(x = \"Weight (g)\", y = \"Thickness (mm)\")\n```\n\nWe can also add a colour to the points based on the material the object is made of. We do this by adding the `colour = Material` argument to the `aes()` function.\n\n```{r ggplot_11, message=FALSE, warning=FALSE}\n ggplot(new_plotting_data, aes(x = Weight, y = Thick, colour = Material)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_y_log10() +\n  theme_bw() +\n  labs(x = \"Weight (g)\", y = \"Thickness (mm)\")\n```\n\nWe can change the position of the legend using the `theme()` function. We need to specify the x and y coordinates of the legend. This uses a coordinate system between 0 and 1, so 0.5 is in the middle.\n\n```{r ggplot_12, message=FALSE, warning=FALSE}\nggplot(new_plotting_data, aes(x = Weight, y = Thick, colour = Material)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_y_log10() +\n  theme_bw() +\n  labs(x = \"Weight (g)\", y = \"Thickness (mm)\") +\n  theme(legend.position = c(0.85, 0.3))\n```\n\nOur goal now is to make a boxplot of the `plat_area` column, grouped by the `Material` column. Lets get the data first. We need to create the `plat_area` column first.\n\n```{r boxplot_1}\nplat_area_data <- data %>% \n  mutate(plat_area = Platwid * Platthic)\n```\n\nNow we only keep materials that have more than 5 objects and remove `NA` values.\n\n```{r boxplot_2}\nplat_area_data <- plat_area_data %>% \n  group_by(Material) %>% \n  filter(n() > 5) %>% \n  drop_na(Material)\n```\n\nNow create the plot using the `geom_boxplot()` function. We leave the code for a homework assignment.\n\n```{r boxplot_3, echo = FALSE, warning=FALSE}\nggplot(data = plat_area_data) +  \n  aes(x = Material,  \n      y = plat_area) +  \n  geom_boxplot() +  \n  scale_y_log10() +  \n  labs(x = \"Raw Material\",  \n       y =  \"Platform Area\") +  \n  theme_classic(base_size = 14)\n```\n\nWe now want to create a plot that shows the number of objects per material. First get the data.\n\n```{r barplot_1}\nmaterial_data <- plat_area_data %>% \n  group_by(Material) %>% \n  count()\n```\n\nNow create the plot using the `geom_col()` function.\n\n```{r barplot_2, warning=FALSE}\nggplot(data = material_data) +  \n  aes(x = Material,  \n      y = n) +  \n  geom_col() +  \n  scale_y_log10() +  \n  labs(x = \"Raw Material\",  \n       y =  \"Number of Objects\") +  \n  theme_classic(base_size = 14)\n```\n\nWe can change the order of the columns using the `reorder()` function. We need to specify the column we want to reorder, and the column we want to order by. In this case, we want to order the `Material` column by the `n` column.\n\n```{r barplot_3, warning=FALSE}\nggplot(data = material_data) +  \n  aes(x = reorder(Material, n),  \n      y = n) +  \n  geom_col() +  \n  scale_y_log10() +  \n  labs(x = \"Raw Material\",  \n       y =  \"Number of Objects\") +  \n  theme_classic(base_size = 14)\n```\n\nIf we wanted to create a top 5 plot, we would first arrange the data by the `n` column, and then only keep the top 5 rows.\n\n```{r barplot_5, warning=FALSE}\nmaterial_data <- material_data %>% \n  arrange(desc(n)) %>% # Note we arrange the rows in descending order, so the largest value is at the top\n  head(5)\n\nggplot(data = material_data) +\n  aes(x = reorder(Material, n), y = n) +\n  geom_col() +\n  scale_y_log10() +\n  labs(x = \"Raw Material\", y = \"Number of Objects\") +\n  theme_classic(base_size = 14)\n```\n\nNow lets say we want to make a plot of the distributions of length of each object. We can either manually create each plot by filtering for each material, or we can use the `facet_wrap()` function.\n\n```{r facet_wrap_1}\nggplot(data = plat_area_data) +  \n  aes(x = Length) +  \n  geom_histogram() +  \n  facet_wrap(~Material) +  \n  labs(x = \"Length (mm)\",  \n       y =  \"Number of Objects\") +  \n  theme_classic(base_size = 14)\n```\n\nDue to the amount of chert items in the data, this is not very useful, but we can set the `y` axis to be free for each plot.\n\n```{r facet_wrap_2, warning=FALSE, message=FALSE}\nggplot(data = plat_area_data) +  \n  aes(x = Length) +  \n  geom_histogram() +  \n  facet_wrap(~Material, scales = \"free_y\") +  \n  labs(x = \"Length (mm)\",  \n       y =  \"Number of Objects\") +  \n  theme_classic(base_size = 14)\n```\n\n## Homework assignments\n\n### Assignment 1\n\nCreate the plot below. This is the same plot as we made earlier in the workshop.\n\n```{r assignment_1, echo = FALSE, warning=FALSE}\nggplot(data = plat_area_data) +  \n  aes(x = Material,  \n      y = plat_area) +  \n  geom_boxplot() +  \n  scale_y_log10() +  \n  labs(x = \"Raw Material\",  \n       y =  \"Platform Area\") +  \n  theme_classic(base_size = 14)\n```\n\n### Assignment 2\n\nCreate the plot below of the most common colours. You will need to perform some data manipulation first.\n\n```{r assignment_2, echo = FALSE, warning=FALSE}\ncolour_count <- data %>% \n  group_by(Colour) %>% \n  count() %>% \n  drop_na(Colour) %>% \n  arrange(desc(n)) %>%\n  head(7)\n\nggplot(data = colour_count) + \n  aes(x = reorder(Colour, n), y = n) +\n  geom_col() +\n  labs(x = \"Colour\", y = \"Number of Objects\") +\n  theme_classic(base_size = 14) \n```\n\n### Assignment 3\n\nWhat is the most common term in the dataset? Create a tibble that contains the term and the number of times it occurs.\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../styles.css"],"toc":true,"output-file":"workshop2.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.555","editor":"visual","theme":"simplex","mainfont":"Cormorant SC","fontsize":"20px","layout":"page","title":"AH-ANTQ103: Workshop 2","subtitle":"Spring 2024","date":"Last updated: `r Sys.Date()`"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}