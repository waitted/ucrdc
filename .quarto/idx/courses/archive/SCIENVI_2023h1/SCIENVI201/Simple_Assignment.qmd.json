{"title":"Simple Assignment SCIENVI201","markdown":{"yaml":{"title":"Simple Assignment SCIENVI201","date":"Spring 2023<br>Last updated: `r Sys.Date()`","output":{"html_document":{"theme":"cosmo","toc":true,"toc_float":{"collapsed":false,"smooth_scroll":true}}}},"headingText":"**Timeseries in Ecology**","headingAttr":{"id":"","classes":["unlisted","unnumbered"],"keyvalue":[]},"containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE)\n```\n\n\nThis page will guide you through your compulsory simple assignment conducted in Rstudio.\n\n<img src=\"https://live.staticflickr.com/595/20502224273_4a79e61100_b.jpg\" width=\"900\" height=\"400\"/>\n\nMost of the collected data in the field of environmental sciences has a temporal structure. This means that the observations made are recorded in a given time interval measured in periods of hours, days, months, years, etc. To give an example; this can be a measurement of sea temperature over the period of decade measured every day.\n\nUnderstanding time series is an essential skill in the environmental sciences as it enables us to see useful patterns. In this assignment you will visualize the the occurrences of often spotted mammals in the Netherlands over the period of the last six years (2016-2022).\n\n## STEP I - RStudio\n\nOpen Rstudio and start a new script. To start a new script, click on the File drop down menu on the top left and select New File \\> R Script. To prevent lost work save the script right away. Again, click on the File drop down menu and select save as.\n\nNow, we can install and load our libraries in our fresh R Script.\n\nIn this simple assignment we will be using the following packages.\n\n```{r echo = TRUE, message = FALSE, eval = FALSE}\n\n# install packages\ninstall.packages(\"tidyverse\")\ninstall.packages(\"readr\")\n\n```\n\nThe next step is to load the libraries in your RStudio, so they are ready to be used.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\n# load packages\nlibrary(tidyverse)\nlibrary(readr)\n\n```\n\n## STEP II - Data Import\n\nNow, we need to import our data in our Rstudio. Usually, you would download data into your computer first and as a next step, you would load it in RStudio. In this case, our data is readily available on GitHub and can be imported into our RStudio directly from there.\n\nA dataset can be imported into RStudio with the function read_csv(), where in parentheses and quotation marks there is the directory to our data set location. Additionally, in order to save this file in our Rstudio environment (upper right window), we need to assign the file to an object with the assign operator \\<-.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\ndata <- read_csv(\"https://raw.githubusercontent.com/ucrdatacenter/projects/main/SCIENVI201/2023h1/ass1/Taxonomy.csv\")\n\n```\n\nThis data set is retrieved from Global Biodiversity Information Facility (gbif.org), a publicly available database that gathers information on species occurrences. To view your data you can either use the function View() with the name of the data in the parentheses or you can simply click on your data in your environment (upper right window). The data is organized in 2 dimensions; rows (observations) and columns (variables). This type of data structure is called dataframe or datatable.\n\nThis particular dataframe, called data, stores information on the taxonomy and the occurrence time (month, year) of often occurring mammals in the Netherlands.\n\n## STEP III - Data Manipulation\n\nNow, we would like to visualize number of animals seen over the period of six years. Therefore, what we can do is to count the number of observations (rows) with unique genus values per unique year values. This can be done with the following, the first argument is the name of the dataframe where our variables are stored. The next two are the variables which number of observations we want to count up.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\ncount(data, year, genus)\n\n```\n\nIn the datatable above, we can see that in the year of 2016 there were 7 unique genusses and there is n of observations which were made per unique species. Additionally, we would like to store this newly created datatable in our environment so we can work with it further. We will use an assignment operator which we have already used a little moment ago. We are going to call our data the yearly_count.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\nyearly_count <- count(data, year, genus)\n\n```\n\n## STEP IV - Visualization\n\nNow, that we have all the necessary information stored, lets see whether we can visualize a graph.\n\nFigures made with ggplot are built from several layers. You always use the same basic code structure to create a wide range of figures:\\\n\n1.  The ggplot() function creates a blank canvas for you to work on. The argument data = specifies the dataframe we are working with, where is our data stored.\n2.  Geoms add the visual elements, such as points, lines, bars, or other shapes.\\\n3.  Other specifications can include changing axis settings, setting the theme, adding labels, etc.\\\n4.  You connect all these different specifications to each other using + signs.\\\n\nThe variables that you want to display on the graph must always be wrapped in an aes() function, which stands for aesthetics. This specification tells R to determine the value of the aesthetic (x and y axes, colors, groups, line types, etc.) based on the value of the variable. aes() can be specified both in the main ggplot() function (in which case it will apply to all geoms) or within a geom\\_...() function (then it only applies to that geom).\n\nThe following code creates a scatter plot of the yearly counts of genus per year.\n\n```{r echo = T,  message = FALSE, warning = FALSE}\nggplot(data = yearly_count) +\n  geom_point(mapping = aes(x = year, y = n))\n\n```\n\nAlright, but this scatter plot does not really inform us much. Therefore, lets connect the dots into a line to see the more continuous relationship. The only thing we need to change in our code is the geom. This time, it will be geom_line().\n\n```{r echo = T,  message = FALSE, warning = FALSE}\n\nggplot(data = yearly_count) +\n  geom_line(mapping = aes(x = year, y = n))\n\n```\n\nNow, lets think for a second. What are we seeing on the following graph? Why do we see this recurring pattern?\n\nOkay, but we still do not know what are the counts per unique genus. Therefore, we can add another argument, group, to our geom to specify for grouping all n variable into groups of unique genusses.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\nggplot(data = yearly_count) +\n  geom_line(mapping = aes(x = year, y = n, group = genus))\n\n```\n\nWhat about changing the color of lines? Totally possible with switching the argument to color.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\nggplot(data = yearly_count) +\n  geom_line(mapping = aes(x = year, y = n, color = genus))\n\n```\n\nLastly, we would like to improve the visuals of this graph a little. Let's define names of our x and y axes and the name of our graph. Do not forget to add the plus sign as that connects our lines of f into one coherent code.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\nggplot(data = yearly_count) +\n  geom_line(mapping = aes(x = year, y = n, color = genus)) +\n  xlab(\"Year\") +\n  ylab(\"N of observations\") +\n  ggtitle(\"Number of genus observations per year\")\n\n```\n\n## STEP V - Recap\n\nCongrats! You finished your simple assignment! Now, please, go to moodle and answer a few questions to conclude on this assignment.\n\n## Literature\n\nGBIF.org (30 January 2023) GBIF Occurrence Download <https://doi.org/10.15468/dl.kpyjbh>\n","srcMarkdownNoYaml":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE)\n```\n\n# **Timeseries in Ecology** {.unlisted .unnumbered}\n\nThis page will guide you through your compulsory simple assignment conducted in Rstudio.\n\n<img src=\"https://live.staticflickr.com/595/20502224273_4a79e61100_b.jpg\" width=\"900\" height=\"400\"/>\n\nMost of the collected data in the field of environmental sciences has a temporal structure. This means that the observations made are recorded in a given time interval measured in periods of hours, days, months, years, etc. To give an example; this can be a measurement of sea temperature over the period of decade measured every day.\n\nUnderstanding time series is an essential skill in the environmental sciences as it enables us to see useful patterns. In this assignment you will visualize the the occurrences of often spotted mammals in the Netherlands over the period of the last six years (2016-2022).\n\n## STEP I - RStudio\n\nOpen Rstudio and start a new script. To start a new script, click on the File drop down menu on the top left and select New File \\> R Script. To prevent lost work save the script right away. Again, click on the File drop down menu and select save as.\n\nNow, we can install and load our libraries in our fresh R Script.\n\nIn this simple assignment we will be using the following packages.\n\n```{r echo = TRUE, message = FALSE, eval = FALSE}\n\n# install packages\ninstall.packages(\"tidyverse\")\ninstall.packages(\"readr\")\n\n```\n\nThe next step is to load the libraries in your RStudio, so they are ready to be used.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\n# load packages\nlibrary(tidyverse)\nlibrary(readr)\n\n```\n\n## STEP II - Data Import\n\nNow, we need to import our data in our Rstudio. Usually, you would download data into your computer first and as a next step, you would load it in RStudio. In this case, our data is readily available on GitHub and can be imported into our RStudio directly from there.\n\nA dataset can be imported into RStudio with the function read_csv(), where in parentheses and quotation marks there is the directory to our data set location. Additionally, in order to save this file in our Rstudio environment (upper right window), we need to assign the file to an object with the assign operator \\<-.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\ndata <- read_csv(\"https://raw.githubusercontent.com/ucrdatacenter/projects/main/SCIENVI201/2023h1/ass1/Taxonomy.csv\")\n\n```\n\nThis data set is retrieved from Global Biodiversity Information Facility (gbif.org), a publicly available database that gathers information on species occurrences. To view your data you can either use the function View() with the name of the data in the parentheses or you can simply click on your data in your environment (upper right window). The data is organized in 2 dimensions; rows (observations) and columns (variables). This type of data structure is called dataframe or datatable.\n\nThis particular dataframe, called data, stores information on the taxonomy and the occurrence time (month, year) of often occurring mammals in the Netherlands.\n\n## STEP III - Data Manipulation\n\nNow, we would like to visualize number of animals seen over the period of six years. Therefore, what we can do is to count the number of observations (rows) with unique genus values per unique year values. This can be done with the following, the first argument is the name of the dataframe where our variables are stored. The next two are the variables which number of observations we want to count up.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\ncount(data, year, genus)\n\n```\n\nIn the datatable above, we can see that in the year of 2016 there were 7 unique genusses and there is n of observations which were made per unique species. Additionally, we would like to store this newly created datatable in our environment so we can work with it further. We will use an assignment operator which we have already used a little moment ago. We are going to call our data the yearly_count.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\nyearly_count <- count(data, year, genus)\n\n```\n\n## STEP IV - Visualization\n\nNow, that we have all the necessary information stored, lets see whether we can visualize a graph.\n\nFigures made with ggplot are built from several layers. You always use the same basic code structure to create a wide range of figures:\\\n\n1.  The ggplot() function creates a blank canvas for you to work on. The argument data = specifies the dataframe we are working with, where is our data stored.\n2.  Geoms add the visual elements, such as points, lines, bars, or other shapes.\\\n3.  Other specifications can include changing axis settings, setting the theme, adding labels, etc.\\\n4.  You connect all these different specifications to each other using + signs.\\\n\nThe variables that you want to display on the graph must always be wrapped in an aes() function, which stands for aesthetics. This specification tells R to determine the value of the aesthetic (x and y axes, colors, groups, line types, etc.) based on the value of the variable. aes() can be specified both in the main ggplot() function (in which case it will apply to all geoms) or within a geom\\_...() function (then it only applies to that geom).\n\nThe following code creates a scatter plot of the yearly counts of genus per year.\n\n```{r echo = T,  message = FALSE, warning = FALSE}\nggplot(data = yearly_count) +\n  geom_point(mapping = aes(x = year, y = n))\n\n```\n\nAlright, but this scatter plot does not really inform us much. Therefore, lets connect the dots into a line to see the more continuous relationship. The only thing we need to change in our code is the geom. This time, it will be geom_line().\n\n```{r echo = T,  message = FALSE, warning = FALSE}\n\nggplot(data = yearly_count) +\n  geom_line(mapping = aes(x = year, y = n))\n\n```\n\nNow, lets think for a second. What are we seeing on the following graph? Why do we see this recurring pattern?\n\nOkay, but we still do not know what are the counts per unique genus. Therefore, we can add another argument, group, to our geom to specify for grouping all n variable into groups of unique genusses.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\nggplot(data = yearly_count) +\n  geom_line(mapping = aes(x = year, y = n, group = genus))\n\n```\n\nWhat about changing the color of lines? Totally possible with switching the argument to color.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\nggplot(data = yearly_count) +\n  geom_line(mapping = aes(x = year, y = n, color = genus))\n\n```\n\nLastly, we would like to improve the visuals of this graph a little. Let's define names of our x and y axes and the name of our graph. Do not forget to add the plus sign as that connects our lines of f into one coherent code.\n\n```{r echo = TRUE, message = FALSE, warning = FALSE}\n\nggplot(data = yearly_count) +\n  geom_line(mapping = aes(x = year, y = n, color = genus)) +\n  xlab(\"Year\") +\n  ylab(\"N of observations\") +\n  ggtitle(\"Number of genus observations per year\")\n\n```\n\n## STEP V - Recap\n\nCongrats! You finished your simple assignment! Now, please, go to moodle and answer a few questions to conclude on this assignment.\n\n## Literature\n\nGBIF.org (30 January 2023) GBIF Occurrence Download <https://doi.org/10.15468/dl.kpyjbh>\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":{"html_document":{"theme":"cosmo","toc":true,"toc_float":{"collapsed":false,"smooth_scroll":true}}},"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../../styles.css"],"toc":true,"output-file":"Simple_Assignment.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.555","editor":"visual","theme":"simplex","mainfont":"Cormorant SC","fontsize":"20px","title":"Simple Assignment SCIENVI201","date":"Spring 2023<br>Last updated: `r Sys.Date()`"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}