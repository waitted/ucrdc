{"title":"SCICOGN302 workshop I: <br>Additional material","markdown":{"yaml":{"layout":"page","title":"SCICOGN302 workshop I: <br>Additional material","subtitle":"Fall 2024","date":"Last updated: `r Sys.Date()`"},"headingText":"Introduction","containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE, error = FALSE)\n```\n\n\nThis tutorial shows you how you can use the `mutate()`, `group_by()` and `summarize()` functions to compute more complex measures of linguistic development than what was shown in the Data Center workshop.\n\nIf you have not done so yet, load the three packages we used in the workshop, and load Amy's transcript data in the token-based format.\n\n```{r}\nlibrary(tidyverse)\nlibrary(tidytext)\nlibrary(childesr)\n\ntokens <- get_tokens(token = \"*\", collection = \"Eng-NA\", target_child = \"Amy\",\n                     corpus = \"VanKleeck\", role = \"target_child\")\n```\n\n# Computing new variables\n\n## `mutate()`\n\nThe `mutate()` function is useful when you want to create new variables or overwrite existing ones. For instance, you can calculate the length of each word Amy used by using the `str_length()` function, and assign the result to a new variable called `length`. I use the `select()` function to display only a subset of the variables, and the `head()` function to display only the first 10 observations.\n\n```{r}\ntoken_length <- tokens %>% \n  mutate(length = str_length(gloss)) \n\ntoken_length %>% \n  select(id, gloss, stem, length) %>% \n  head(10)\n```\n\nYou can also use mutate to create indicator variables: the next example uses a logical expression that is true if the word is a noun.\n\n```{r}\ntokens %>% \n  mutate(noun = part_of_speech == \"n\") %>% \n  select(id, gloss, stem, noun) %>% \n  head(10)\n```\n\n## `group_by()` and `summarize()`\n\nWhile `mutate()` creates a new variable for each row of the data, `summarize()` collapses the data to a smaller dimension by applying a function (e.g. `sum()` or `mean()`) to the data.\n\nFor instance, if you use `mutate()` to get the length of each word, you can use `summarize()` to find the mean word length of all observations:\n\n```{r}\ntoken_length %>% \n  summarize(length = mean(length))\n```\n\nAmy's average word in this data is almost 4 letters long.\n\nYou can also do more complex operations rather than averages. The following example uses the indicator variable for nouns to calculate the total fraction of nouns in Amy's speech: we can use the `sum()` function to get the total number of nouns (the TRUE/FALSE indicator is treated as 1/0), and divide that by the total number of observations `n()`.\n\n```{r}\ntokens %>% \n  mutate(noun = part_of_speech == \"n\") %>% \n  summarize(noun_prop = sum(noun)/n())\n```\n\nSo approximately 12% of Amy's words were nouns.\n\nSometimes you don't want to aggregate the full dataset, but get summaries per group, e.g. the average word length per transcript. You can accomplish that by specifying one or more grouping variables with the `group_by()` function before calling `summarize()`.\n\n```{r}\ntoken_length %>% \n  group_by(transcript_id) %>% \n  summarize(length = mean(length))\n```\n\n# More materials\n\nYou can find a list of helpful links for data manipulation and visualization [here](../../../tutorials/links).\n","srcMarkdownNoYaml":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE, error = FALSE)\n```\n\n# Introduction\n\nThis tutorial shows you how you can use the `mutate()`, `group_by()` and `summarize()` functions to compute more complex measures of linguistic development than what was shown in the Data Center workshop.\n\nIf you have not done so yet, load the three packages we used in the workshop, and load Amy's transcript data in the token-based format.\n\n```{r}\nlibrary(tidyverse)\nlibrary(tidytext)\nlibrary(childesr)\n\ntokens <- get_tokens(token = \"*\", collection = \"Eng-NA\", target_child = \"Amy\",\n                     corpus = \"VanKleeck\", role = \"target_child\")\n```\n\n# Computing new variables\n\n## `mutate()`\n\nThe `mutate()` function is useful when you want to create new variables or overwrite existing ones. For instance, you can calculate the length of each word Amy used by using the `str_length()` function, and assign the result to a new variable called `length`. I use the `select()` function to display only a subset of the variables, and the `head()` function to display only the first 10 observations.\n\n```{r}\ntoken_length <- tokens %>% \n  mutate(length = str_length(gloss)) \n\ntoken_length %>% \n  select(id, gloss, stem, length) %>% \n  head(10)\n```\n\nYou can also use mutate to create indicator variables: the next example uses a logical expression that is true if the word is a noun.\n\n```{r}\ntokens %>% \n  mutate(noun = part_of_speech == \"n\") %>% \n  select(id, gloss, stem, noun) %>% \n  head(10)\n```\n\n## `group_by()` and `summarize()`\n\nWhile `mutate()` creates a new variable for each row of the data, `summarize()` collapses the data to a smaller dimension by applying a function (e.g. `sum()` or `mean()`) to the data.\n\nFor instance, if you use `mutate()` to get the length of each word, you can use `summarize()` to find the mean word length of all observations:\n\n```{r}\ntoken_length %>% \n  summarize(length = mean(length))\n```\n\nAmy's average word in this data is almost 4 letters long.\n\nYou can also do more complex operations rather than averages. The following example uses the indicator variable for nouns to calculate the total fraction of nouns in Amy's speech: we can use the `sum()` function to get the total number of nouns (the TRUE/FALSE indicator is treated as 1/0), and divide that by the total number of observations `n()`.\n\n```{r}\ntokens %>% \n  mutate(noun = part_of_speech == \"n\") %>% \n  summarize(noun_prop = sum(noun)/n())\n```\n\nSo approximately 12% of Amy's words were nouns.\n\nSometimes you don't want to aggregate the full dataset, but get summaries per group, e.g. the average word length per transcript. You can accomplish that by specifying one or more grouping variables with the `group_by()` function before calling `summarize()`.\n\n```{r}\ntoken_length %>% \n  group_by(transcript_id) %>% \n  summarize(length = mean(length))\n```\n\n# More materials\n\nYou can find a list of helpful links for data manipulation and visualization [here](../../../tutorials/links).\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../styles.css"],"toc":true,"output-file":"workshop1extra.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.555","editor":"visual","theme":"simplex","mainfont":"Cormorant SC","fontsize":"20px","layout":"page","title":"SCICOGN302 workshop I: <br>Additional material","subtitle":"Fall 2024","date":"Last updated: `r Sys.Date()`"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}